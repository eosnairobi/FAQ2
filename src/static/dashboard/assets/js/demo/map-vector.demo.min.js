var handleVectorMap = function() {
    var points = $.ajax({
        type: 'GET',
        url: 'http://127.0.0.1:3000/map/data',
        async: false,
        dataType: 'json',
        done: function(response) {
            return response;
        }
    }).responseJSON;
    console.log(points)
        if (0 !== "#world-map".length) {
            var a = $(window).height();
            $("#world-map").css("height", a), $(window).resize(function() {
                var a = $(window).height();
                $("#world-map").css("height", a)
            }), $("#world-map").vectorMap({
                map: "world_mill_en",
                scaleColors: [COLOR_BLACK_TRANSPARENT_2, COLOR_BLACK_TRANSPARENT_5],
                normalizeFunction: "polynomial",
                hoverOpacity: .5,
                hoverColor: !1,
                markerStyle: {
                    initial: {
                        fill: COLOR_GREEN,
                        stroke: "transparent",
                        r: 6
                    }
                },
                regionStyle: {
                    initial: {
                        fill: COLOR_BLACK_LIGHTER,
                        "fill-opacity": 1,
                        stroke: "none",
                        "stroke-width": .4,
                        "stroke-opacity": 1
                    },
                    hover: {
                        "fill-opacity": .8
                    },
                    selected: {
                        fill: "yellow"
                    },
                    selectedHover: {

                    }
                },
                focusOn: {
                    x: .5,
                    y: .5,
                    scale: 1
                },

                backgroundColor: COLOR_BLACK_DARKER,
                markers:points,
                onMarkerTipShow: function(event, label, index) {
                    label.html(label.html() + '<br>Hello Me');
                }
            })
        }
    },
    MapVector = function() {
        "use strict";
        return {
            init: function() {
                handleVectorMap()
            }
        }
    }();